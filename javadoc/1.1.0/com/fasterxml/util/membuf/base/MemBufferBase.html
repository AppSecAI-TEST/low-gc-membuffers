<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Wed Nov 05 09:02:13 PST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MemBufferBase (Low GC memory buffers 1.1.0 API)</title>
<meta name="date" content="2014-11-05">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemBufferBase (Low GC memory buffers 1.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemBufferBase.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/fasterxml/util/membuf/base/LongsSegment.html" title="class in com.fasterxml.util.membuf.base"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/fasterxml/util/membuf/base/MemBuffersBase.html" title="class in com.fasterxml.util.membuf.base"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/fasterxml/util/membuf/base/MemBufferBase.html" target="_top">Frames</a></li>
<li><a href="MemBufferBase.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.fasterxml.util.membuf.base</div>
<h2 title="Class MemBufferBase" class="title">Class MemBufferBase&lt;S extends <a href="../../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf">Segment</a>&lt;S&gt;&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.fasterxml.util.membuf.base.MemBufferBase&lt;S&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a>, <a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/fasterxml/util/membuf/base/ChunkyMemBufferBase.html" title="class in com.fasterxml.util.membuf.base">ChunkyMemBufferBase</a>, <a href="../../../../../com/fasterxml/util/membuf/base/StreamyMemBufferBase.html" title="class in com.fasterxml.util.membuf.base">StreamyMemBufferBase</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">MemBufferBase&lt;S extends <a href="../../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf">Segment</a>&lt;S&gt;&gt;</span>
extends <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></pre>
<div class="block">Shared base class for all types of <a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf"><code>MemBuffer</code></a> implementations
 (regardless of underlying content type or streaming/chunked style)</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_firstFreeSegment">_firstFreeSegment</a></strong></code>
<div class="block">Most recently released segment that we hold on to for possible reuse.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_freeSegmentCount">_freeSegmentCount</a></strong></code>
<div class="block">Number of segments reachable via <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_firstFreeSegment"><code>_firstFreeSegment</code></a>;
 less than equal to <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_maxSegmentsToAllocate"><code>_maxSegmentsToAllocate</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_head">_head</a></strong></code>
<div class="block">Head refers to the segment in which appends are done, which is the
 last segment allocated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_maxSegmentsForReuse">_maxSegmentsForReuse</a></strong></code>
<div class="block">Smallest number of segments to allocate.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_maxSegmentsToAllocate">_maxSegmentsToAllocate</a></strong></code>
<div class="block">Maximum number of segments to allocate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/fasterxml/util/membuf/SegmentAllocator.html" title="class in com.fasterxml.util.membuf">SegmentAllocator</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_segmentAllocator">_segmentAllocator</a></strong></code>
<div class="block">Object that is used for allocating physical segments, and to whom
 segments are released after use.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_segmentSize">_segmentSize</a></strong></code>
<div class="block">Size of individual segments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_tail">_tail</a></strong></code>
<div class="block">Tail refers to the segment from which read are done, which is the
 oldest segment allocated.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_totalPayloadLength">_totalPayloadLength</a></strong></code>
<div class="block">Number of bytes stored in all appended entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_usedSegmentsCount">_usedSegmentsCount</a></strong></code>
<div class="block">Number of segments reachable via linked list starting from
 <code>_tail</code></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#MemBufferBase(com.fasterxml.util.membuf.base.MemBufferBase)">MemBufferBase</a></strong>(<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="class in com.fasterxml.util.membuf.base">MemBufferBase</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;&nbsp;src)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#MemBufferBase(com.fasterxml.util.membuf.SegmentAllocator, int, int, S)">MemBufferBase</a></strong>(<a href="../../../../../com/fasterxml/util/membuf/SegmentAllocator.html" title="class in com.fasterxml.util.membuf">SegmentAllocator</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;&nbsp;allocator,
             int&nbsp;minSegmentsToAllocate,
             int&nbsp;maxSegmentsToAllocate,
             <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&nbsp;initialSegments)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_clear()">_clear</a></strong>()</code>
<div class="block">Method intended to be called from "clear()", after sub-class has done
 its own cleanup.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_clearPeeked()">_clearPeeked</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_freeReadSegment(java.lang.String)">_freeReadSegment</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prevError)</code>
<div class="block">Helper method called when the current tail segment has been completely
 read, and we want to free or reuse it and start reading the next
 segment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_peekedLength()">_peekedLength</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_reportClosed()">_reportClosed</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_reuseFree()">_reuseFree</a></strong>()</code>
<div class="block">Helper method for reusing a segment from free-segments list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_waitForData()">_waitForData</a></strong>()</code>
<div class="block">Method sub-classes call when the current thread should block
 until more data is available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_waitForData(long)">_waitForData</a></strong>(long&nbsp;timeoutMsecs)</code>
<div class="block">Method sub-classes call when the current thread should block
 up to specified time interval, or until more data is available,
 whichever occurs sooner.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_wakeBlockedReaders()">_wakeBlockedReaders</a></strong>()</code>
<div class="block">Method sub-classes call when they need to wake up any threads
 that are blocked on trying to read content: typically this occurs
 when adding entry or data to an empty buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#close()">close</a></strong>()</code>
<div class="block">Method that can be used to clean up resources (segments
 allocated) this buffer is using, necessary step to take
 for unused instances in case underlying storage uses
 off-heap memory (such as direct-allocated <a href="http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/fasterxml/util/membuf/SegmentAllocator.html" title="class in com.fasterxml.util.membuf">SegmentAllocator</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#getAllocator()">getAllocator</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#getMaximumAvailableSpace()">getMaximumAvailableSpace</a></strong>()</code>
<div class="block">Method for checking what would be the maximum available space
 available for appending more entries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#getSegmentCount()">getSegmentCount</a></strong>()</code>
<div class="block">Method for checking how many segments are currently used for
 storing data (not including segments that may be retained
 for reuse but do not contain data)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#getTotalPayloadLength()">getTotalPayloadLength</a></strong>()</code>
<div class="block">Method for checking total amount of payload buffered in this buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#waitUntilNotEmpty()">waitUntilNotEmpty</a></strong>()</code>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#waitUntilNotEmpty(long)">waitUntilNotEmpty</a></strong>(long&nbsp;maxWaitMsecs)</code>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read,
 but to only wait up until specified
 time has elapsed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.fasterxml.util.membuf.MemBuffer">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.fasterxml.util.membuf.<a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></h3>
<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#clear()">clear</a>, <a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#isEmpty()">isEmpty</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="_segmentAllocator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_segmentAllocator</h4>
<pre>protected final&nbsp;<a href="../../../../../com/fasterxml/util/membuf/SegmentAllocator.html" title="class in com.fasterxml.util.membuf">SegmentAllocator</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a> extends <a href="../../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf">Segment</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;&gt; _segmentAllocator</pre>
<div class="block">Object that is used for allocating physical segments, and to whom
 segments are released after use.</div>
</li>
</ul>
<a name="_segmentSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_segmentSize</h4>
<pre>protected final&nbsp;int _segmentSize</pre>
<div class="block">Size of individual segments.</div>
</li>
</ul>
<a name="_maxSegmentsForReuse">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_maxSegmentsForReuse</h4>
<pre>protected final&nbsp;int _maxSegmentsForReuse</pre>
<div class="block">Smallest number of segments to allocate.
 This defines the smallest
 physical size of the queue, such that queue will never shrink beyond
 this setting.
 Lowest allowed minimum size is 2, since head and tail of the queue
 must reside on different segments (to allow expansion)</div>
</li>
</ul>
<a name="_maxSegmentsToAllocate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_maxSegmentsToAllocate</h4>
<pre>protected final&nbsp;int _maxSegmentsToAllocate</pre>
<div class="block">Maximum number of segments to allocate.
 This defines maximum physical size of the queue.</div>
</li>
</ul>
<a name="_head">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_head</h4>
<pre>protected&nbsp;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a> extends <a href="../../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf">Segment</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt; _head</pre>
<div class="block">Head refers to the segment in which appends are done, which is the
 last segment allocated.
 It may be same as <code>_tail</code>.
 Note that this is the end of the logical chain starting from <code>_tail</code>.</div>
</li>
</ul>
<a name="_tail">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_tail</h4>
<pre>protected&nbsp;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a> extends <a href="../../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf">Segment</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt; _tail</pre>
<div class="block">Tail refers to the segment from which read are done, which is the
 oldest segment allocated.
 It may be same as <code>_head</code>.
 Can be used for traversing all in-use segments.</div>
</li>
</ul>
<a name="_usedSegmentsCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_usedSegmentsCount</h4>
<pre>protected&nbsp;int _usedSegmentsCount</pre>
<div class="block">Number of segments reachable via linked list starting from
 <code>_tail</code></div>
</li>
</ul>
<a name="_totalPayloadLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_totalPayloadLength</h4>
<pre>protected&nbsp;long _totalPayloadLength</pre>
<div class="block">Number of bytes stored in all appended entries.</div>
</li>
</ul>
<a name="_firstFreeSegment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_firstFreeSegment</h4>
<pre>protected&nbsp;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a> extends <a href="../../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf">Segment</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt; _firstFreeSegment</pre>
<div class="block">Most recently released segment that we hold on to for possible reuse.
 Only up to <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_maxSegmentsForReuse"><code>_maxSegmentsForReuse</code></a> may be stored for reuse; others
 will be handed back to the allocator.</div>
</li>
</ul>
<a name="_freeSegmentCount">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_freeSegmentCount</h4>
<pre>protected&nbsp;int _freeSegmentCount</pre>
<div class="block">Number of segments reachable via <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_firstFreeSegment"><code>_firstFreeSegment</code></a>;
 less than equal to <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html#_maxSegmentsToAllocate"><code>_maxSegmentsToAllocate</code></a>.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MemBufferBase(com.fasterxml.util.membuf.SegmentAllocator,int,int,com.fasterxml.util.membuf.Segment)">
<!--   -->
</a><a name="MemBufferBase(com.fasterxml.util.membuf.SegmentAllocator, int, int, S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MemBufferBase</h4>
<pre>protected&nbsp;MemBufferBase(<a href="../../../../../com/fasterxml/util/membuf/SegmentAllocator.html" title="class in com.fasterxml.util.membuf">SegmentAllocator</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;&nbsp;allocator,
             int&nbsp;minSegmentsToAllocate,
             int&nbsp;maxSegmentsToAllocate,
             <a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&nbsp;initialSegments)</pre>
</li>
</ul>
<a name="MemBufferBase(com.fasterxml.util.membuf.base.MemBufferBase)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MemBufferBase</h4>
<pre>protected&nbsp;MemBufferBase(<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="class in com.fasterxml.util.membuf.base">MemBufferBase</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;&nbsp;src)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="waitUntilNotEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilNotEmpty</h4>
<pre>public final&nbsp;void&nbsp;waitUntilNotEmpty()
                             throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#waitUntilNotEmpty()">MemBuffer</a></code></strong></div>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read.
<p>
 Note that it is possible to have a race condition if there are
 multiple readers, such that even if this method returns, following
 read could fail/block (when another reader thread manages to thread
 before current thread reads next entry); this method can only be
 used to guarantee data for single-threaded reads, although it may
 work as an optimization for multiple reader case as well.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#waitUntilNotEmpty()">waitUntilNotEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="waitUntilNotEmpty(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilNotEmpty</h4>
<pre>public final&nbsp;void&nbsp;waitUntilNotEmpty(long&nbsp;maxWaitMsecs)
                             throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#waitUntilNotEmpty(long)">MemBuffer</a></code></strong></div>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read,
 but to only wait up until specified
 time has elapsed. Note that wait time is lower-bound and actual
 wait may be longer, depending on things like timer resolution;
 this depends on how accurately <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang"><code>Object.wait(long)</code></a> limits
 wait time.
<p>
 Note that it is possible to have a race condition if there are
 multiple readers, such that even if this method returns, following
 read could fail/block (when another reader thread manages to thread
 before current thread reads next entry); this method can only be
 used to guarantee data for single-threaded reads, although it may
 work as an optimization for multiple reader case as well.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#waitUntilNotEmpty(long)">waitUntilNotEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="getAllocator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocator</h4>
<pre>public&nbsp;<a href="../../../../../com/fasterxml/util/membuf/SegmentAllocator.html" title="class in com.fasterxml.util.membuf">SegmentAllocator</a>&lt;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&gt;&nbsp;getAllocator()</pre>
</li>
</ul>
<a name="getSegmentCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSegmentCount</h4>
<pre>public&nbsp;int&nbsp;getSegmentCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#getSegmentCount()">MemBuffer</a></code></strong></div>
<div class="block">Method for checking how many segments are currently used for
 storing data (not including segments that may be retained
 for reuse but do not contain data)</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#getSegmentCount()">getSegmentCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></code></dd>
</dl>
</li>
</ul>
<a name="getTotalPayloadLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalPayloadLength</h4>
<pre>public&nbsp;long&nbsp;getTotalPayloadLength()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#getTotalPayloadLength()">MemBuffer</a></code></strong></div>
<div class="block">Method for checking total amount of payload buffered in this buffer.
 This does not include entry metadata (length prefixes), if any.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#getTotalPayloadLength()">getTotalPayloadLength</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></code></dd>
</dl>
</li>
</ul>
<a name="getMaximumAvailableSpace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumAvailableSpace</h4>
<pre>public&nbsp;long&nbsp;getMaximumAvailableSpace()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#getMaximumAvailableSpace()">MemBuffer</a></code></strong></div>
<div class="block">Method for checking what would be the maximum available space
 available for appending more entries. Since there may be per-entry
 overhead (length prefix of at least one and at most five bytes),
 this is not necessarily all available for payload, but gives
 an upper-bound estimate.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#getMaximumAvailableSpace()">getMaximumAvailableSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public final&nbsp;void&nbsp;close()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#close()">MemBuffer</a></code></strong></div>
<div class="block">Method that can be used to clean up resources (segments
 allocated) this buffer is using, necessary step to take
 for unused instances in case underlying storage uses
 off-heap memory (such as direct-allocated <a href="http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/fasterxml/util/membuf/MemBuffer.html" title="interface in com.fasterxml.util.membuf">MemBuffer</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a name="_clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_clear</h4>
<pre>protected&nbsp;void&nbsp;_clear()</pre>
<div class="block">Method intended to be called from "clear()", after sub-class has done
 its own cleanup. Not marked as synchronized as sub-class is expected
 to do that if necessary.</div>
</li>
</ul>
<a name="_freeReadSegment(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_freeReadSegment</h4>
<pre>protected final&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;_freeReadSegment(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prevError)</pre>
<div class="block">Helper method called when the current tail segment has been completely
 read, and we want to free or reuse it and start reading the next
 segment.
 Since throwing exceptions from this method could lead to corruption,
 we will only return error indicator for any problems.</div>
</li>
</ul>
<a name="_reuseFree()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_reuseFree</h4>
<pre>protected final&nbsp;<a href="../../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="type parameter in MemBufferBase">S</a>&nbsp;_reuseFree()</pre>
<div class="block">Helper method for reusing a segment from free-segments list.
 Caller must guarantee there is such a segment available; this is
 done in advance to achieve atomicity of multi-segment-allocation.</div>
</li>
</ul>
<a name="_waitForData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_waitForData</h4>
<pre>protected final&nbsp;void&nbsp;_waitForData()
                           throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Method sub-classes call when the current thread should block
 until more data is available.
 Note that caller MUST have lock on 'this', that is call must
 come from within synchronized block.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="_waitForData(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_waitForData</h4>
<pre>protected final&nbsp;void&nbsp;_waitForData(long&nbsp;timeoutMsecs)
                           throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Method sub-classes call when the current thread should block
 up to specified time interval, or until more data is available,
 whichever occurs sooner.
 Note that caller MUST have lock on 'this', that is call must
 come from within synchronized block.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="_wakeBlockedReaders()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_wakeBlockedReaders</h4>
<pre>protected final&nbsp;void&nbsp;_wakeBlockedReaders()</pre>
<div class="block">Method sub-classes call when they need to wake up any threads
 that are blocked on trying to read content: typically this occurs
 when adding entry or data to an empty buffer.
 Note that caller MUST have lock on 'this', that is call must
 come from within synchronized block.</div>
</li>
</ul>
<a name="_reportClosed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_reportClosed</h4>
<pre>protected final&nbsp;void&nbsp;_reportClosed()</pre>
</li>
</ul>
<a name="_clearPeeked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_clearPeeked</h4>
<pre>protected abstract&nbsp;void&nbsp;_clearPeeked()</pre>
</li>
</ul>
<a name="_peekedLength()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_peekedLength</h4>
<pre>protected abstract&nbsp;int&nbsp;_peekedLength()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemBufferBase.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/fasterxml/util/membuf/base/LongsSegment.html" title="class in com.fasterxml.util.membuf.base"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/fasterxml/util/membuf/base/MemBuffersBase.html" title="class in com.fasterxml.util.membuf.base"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/fasterxml/util/membuf/base/MemBufferBase.html" target="_top">Frames</a></li>
<li><a href="MemBufferBase.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://fasterxml.com">fasterxml.com</a>. All Rights Reserved.</small></p>
</body>
</html>
