<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue Oct 22 21:49:55 PDT 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MemBuffer (Low GC memory buffers 1.0.0 API)</title>
<meta name="date" content="2013-10-22">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemBuffer (Low GC memory buffers 1.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/fasterxml/util/membuf/ChunkyMemBuffer.html" title="interface in com.fasterxml.util.membuf"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/fasterxml/util/membuf/MemBufferDecorator.html" title="interface in com.fasterxml.util.membuf"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/fasterxml/util/membuf/MemBuffer.html" target="_top">Frames</a></li>
<li><a href="MemBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.fasterxml.util.membuf</div>
<h2 title="Interface MemBuffer" class="title">Interface MemBuffer</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://java.sun.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../com/fasterxml/util/membuf/ChunkyMemBuffer.html" title="interface in com.fasterxml.util.membuf">ChunkyMemBuffer</a>, <a href="../../../../com/fasterxml/util/membuf/StreamyMemBuffer.html" title="interface in com.fasterxml.util.membuf">StreamyMemBuffer</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../com/fasterxml/util/membuf/ChunkyBytesMemBuffer.html" title="class in com.fasterxml.util.membuf">ChunkyBytesMemBuffer</a>, <a href="../../../../com/fasterxml/util/membuf/impl/ChunkyBytesMemBufferImpl.html" title="class in com.fasterxml.util.membuf.impl">ChunkyBytesMemBufferImpl</a>, <a href="../../../../com/fasterxml/util/membuf/ChunkyLongsMemBuffer.html" title="class in com.fasterxml.util.membuf">ChunkyLongsMemBuffer</a>, <a href="../../../../com/fasterxml/util/membuf/impl/ChunkyLongsMemBufferImpl.html" title="class in com.fasterxml.util.membuf.impl">ChunkyLongsMemBufferImpl</a>, <a href="../../../../com/fasterxml/util/membuf/base/ChunkyMemBufferBase.html" title="class in com.fasterxml.util.membuf.base">ChunkyMemBufferBase</a>, <a href="../../../../com/fasterxml/util/membuf/base/MemBufferBase.html" title="class in com.fasterxml.util.membuf.base">MemBufferBase</a>, <a href="../../../../com/fasterxml/util/membuf/StreamyBytesMemBuffer.html" title="class in com.fasterxml.util.membuf">StreamyBytesMemBuffer</a>, <a href="../../../../com/fasterxml/util/membuf/impl/StreamyBytesMemBufferImpl.html" title="class in com.fasterxml.util.membuf.impl">StreamyBytesMemBufferImpl</a>, <a href="../../../../com/fasterxml/util/membuf/StreamyLongsMemBuffer.html" title="class in com.fasterxml.util.membuf">StreamyLongsMemBuffer</a>, <a href="../../../../com/fasterxml/util/membuf/impl/StreamyLongsMemBufferImpl.html" title="class in com.fasterxml.util.membuf.impl">StreamyLongsMemBufferImpl</a>, <a href="../../../../com/fasterxml/util/membuf/base/StreamyMemBufferBase.html" title="class in com.fasterxml.util.membuf.base">StreamyMemBufferBase</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">MemBuffer</span>
extends <a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block">Class that defines generic memory buffer interface.
 Memory buffers are extendable linear FIFO data structures.
 Since this base type does not expose all access (mostly because
 generic typing does not work for primitive values), it is
 not commonly used, but it may be useful for printing diagnostics
 or some synchronization.
<p>
 While not mandated by the interface, existing implementations all use a
 set of <a href="../../../../com/fasterxml/util/membuf/Segment.html" title="class in com.fasterxml.util.membuf"><code>Segment</code></a>s as virtual ring buffer.
 Number of segments used is bound by minimum and maximum
 amounts, which defines minimum and maximum memory usage.
 Memory usage is relatively easy to estimate since data is stored as
 linear sequences (arrays or <code>XxxBuffer</code>s (like <code>ByteBuffer</code>)
 having very little overhead.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Tatu Saloranta</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#clear()">clear</a></strong>()</code>
<div class="block">Method that will discard contents of this buffer; functionally similar
 to just skipping all contents, but is more efficient and guaranteed
 to be atomic operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#close()">close</a></strong>()</code>
<div class="block">Method that can be used to clean up resources (segments
 allocated) this buffer is using, necessary step to take
 for unused instances in case underlying storage uses
 off-heap memory (such as direct-allocated <a href="http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#getMaximumAvailableSpace()">getMaximumAvailableSpace</a></strong>()</code>
<div class="block">Method for checking what would be the maximum available space
 available for appending more entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#getSegmentCount()">getSegmentCount</a></strong>()</code>
<div class="block">Method for checking how many segments are currently used for
 storing data (not including segments that may be retained
 for reuse but do not contain data)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#getTotalPayloadLength()">getTotalPayloadLength</a></strong>()</code>
<div class="block">Method for checking total amount of payload buffered in this buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">Method for checking whether this buffer has no entries,
 functionally equivalent to:</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#waitUntilNotEmpty()">waitUntilNotEmpty</a></strong>()</code>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/fasterxml/util/membuf/MemBuffer.html#waitUntilNotEmpty(long)">waitUntilNotEmpty</a></strong>(long&nbsp;maxWaitMsecs)</code>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read,
 but to only wait up until specified
 time has elapsed.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>boolean&nbsp;isEmpty()</pre>
<div class="block">Method for checking whether this buffer has no entries,
 functionally equivalent to:
<pre>
   getEntryCount() == 0
</pre></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if this buffer contains no entries</dd></dl>
</li>
</ul>
<a name="getSegmentCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSegmentCount</h4>
<pre>int&nbsp;getSegmentCount()</pre>
<div class="block">Method for checking how many segments are currently used for
 storing data (not including segments that may be retained
 for reuse but do not contain data)</div>
</li>
</ul>
<a name="getMaximumAvailableSpace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumAvailableSpace</h4>
<pre>long&nbsp;getMaximumAvailableSpace()</pre>
<div class="block">Method for checking what would be the maximum available space
 available for appending more entries. Since there may be per-entry
 overhead (length prefix of at least one and at most five bytes),
 this is not necesssarily all available for payload, but gives
 maximum estimate.</div>
</li>
</ul>
<a name="getTotalPayloadLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalPayloadLength</h4>
<pre>long&nbsp;getTotalPayloadLength()</pre>
<div class="block">Method for checking total amount of payload buffered in this buffer.
 This does not include entry metadata (length prefixes), if any.</div>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">Method that will discard contents of this buffer; functionally similar
 to just skipping all contents, but is more efficient and guaranteed
 to be atomic operation.</div>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Method that can be used to clean up resources (segments
 allocated) this buffer is using, necessary step to take
 for unused instances in case underlying storage uses
 off-heap memory (such as direct-allocated <a href="http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://java.sun.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
</dl>
</li>
</ul>
<a name="waitUntilNotEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilNotEmpty</h4>
<pre>void&nbsp;waitUntilNotEmpty()
                       throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read.
<p>
 Note that it is possible to have a race condition if there are
 multiple readers, such that even if this method returns, following
 read could fail/block (when another reader thread manages to thread
 before current thread reads next entry); this method can only be
 used to guarantee data for single-threaded reads, although it may
 work as an optimization for multiple reader case as well.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="waitUntilNotEmpty(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitUntilNotEmpty</h4>
<pre>void&nbsp;waitUntilNotEmpty(long&nbsp;maxWaitMsecs)
                       throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Method that can be called to wait until buffer is not empty, that is,
 it has some data (entry or value sequence) to read,
 but to only wait up until specified
 time has elapsed. Note that wait time is lower-bound and actual
 wait may be longer, depending on things like timer resolution;
 this depends on how accurately <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang"><code>Object.wait(long)</code></a> limits
 wait time.
<p>
 Note that it is possible to have a race condition if there are
 multiple readers, such that even if this method returns, following
 read could fail/block (when another reader thread manages to thread
 before current thread reads next entry); this method can only be
 used to guarantee data for single-threaded reads, although it may
 work as an optimization for multiple reader case as well.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/fasterxml/util/membuf/ChunkyMemBuffer.html" title="interface in com.fasterxml.util.membuf"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/fasterxml/util/membuf/MemBufferDecorator.html" title="interface in com.fasterxml.util.membuf"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/fasterxml/util/membuf/MemBuffer.html" target="_top">Frames</a></li>
<li><a href="MemBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013 <a href="http://fasterxml.com">fasterxml.com</a>. All Rights Reserved.</small></p>
</body>
</html>
